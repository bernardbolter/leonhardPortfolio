function lazyLoad(){document.querySelectorAll(".project-image").forEach(function(e){var t=e.getAttribute("data-image-full"),o=e.querySelector("img");null!==t&&(o.src=t,o.addEventListener("load",function(){e.style.backgroundImage="url("+t+")",e.className=e.className+" is-loaded"}))})}jQuery(document).ready(function(e){var t=document.getElementById("about");t&&t.addEventListener("click",function(){e("#about").addClass("nav-icons-close"),e("#about-close").removeClass("nav-icons-close"),e("#about-section").removeClass("about-no-show")});var o=document.getElementById("about-close");o&&o.addEventListener("click",function(){e("#about").removeClass("nav-icons-close"),e("#about-close").addClass("nav-icons-close"),e("#about-section").addClass("about-no-show")})});var allPosts=[],filteredPosts=[],breakpoint=850,postsHTML=document.getElementById("posts");jQuery(document).ready(function(e){null!==document.getElementById("posts")&&async function(){console.log("getting posts"),allPosts=await wp.apiRequest({path:"wp/v2/posts?acf_format=standard&per_page=100"}),console.log(allPosts),displayAllPosts(filteredPosts=allPosts)}(),e(".splash-container").on("click",function(){console.log("clicked splash"),e(".splash-container").addClass("splash-container-hide")})}),jQuery(window).bind("resizeEnd",function(){console.log("resized"),displayAllPosts(filteredPosts)}),jQuery(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){jQuery(this).trigger("resizeEnd")},500)});const displayAllPosts=e=>{var t="<div class='posts-container'>";e.map((e,o)=>{t+=`<a class="post-container" href="${e.link}"><img src="${decideImageFormat(e,o+1)}" alt="thumbnail from ${e.title.rendered} project" /></a>`}),t+="</div>",jQuery("#posts").html(t)},decideImageFormat=(e,t)=>window.innerWidth<=breakpoint?!1===e.acf.landscape?"https://www.tlbx.app/200-300.svg":e.acf.landscape.sizes.medium_large:!1===e.acf.landscape?"https://www.tlbx.app/200-300.svg":e.acf.landscape.sizes.large;function shuffle(e){let t,o=e.length;for(;o>0;)t=Math.floor(Math.random()*o),o--,[e[o],e[t]]=[e[t],e[o]];return e}var ticker,sortedProjects=[],currentProjectId=245,currentProjectImage=1;jQuery(window).bind("resizeEnd",function(){console.log("resized"),buildProjectsAssets(sortedProjects)}),jQuery(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){jQuery(this).trigger("resizeEnd")},500)}),jQuery(document).ready(function(e){post_id=jQuery("#post_id").val(),console.log(post_id),void 0!==post_id&&async function(e){var t=await wp.apiRequest({path:"wp/v2/posts?acf_format=standard&per_page=100"}),o=t.filter(t=>t.id===parseInt(e));(sortedProjects=t.filter(t=>t.id!==parseInt(e))).unshift(o[0]),console.log(sortedProjects),buildProjectsAssets(sortedProjects),theTimer(sortedProjects[0].id,1)}(post_id),e(document).on("click",".project-title",function(t){var o=t.target.id.slice(-3);e(`#project-title-${o}`).addClass("project-title-hide"),e(`#project-info-${o}`).removeClass("project-info-container-hide"),e(`#project-info-close-${o}`).removeClass("project-info-close-hide"),jQuery(window).width()>850&&e(`#project-thumbnails-${o}`).css("left","92px"),clearTimeout(ticker)}),e(document).on("click",".project-info-close",function(t){var o=t.target.id.slice(-3);if(e(`#project-title-${o}`).removeClass("project-title-hide"),e(`#project-info-${o}`).addClass("project-info-container-hide"),e(`#project-info-close-${o}`).addClass("project-info-close-hide"),jQuery(window).width()>850){var i=jQuery(`#project-title-${o}`).width();e(`#project-thumbnails-${o}`).css("left",`${i+86}px`)}console.log(currentProjectId,currentProjectImage),theTimer(currentProjectId,currentProjectImage)}),e(document).on("click",".project-info-close-path",function(t){var o=t.target.id.slice(-3);if(e(`#project-title-${o}`).removeClass("project-title-hide"),e(`#project-info-${o}`).addClass("project-info-container-hide"),e(`#project-info-close-${o}`).addClass("project-info-close-hide"),jQuery(window).width()>850){var i=jQuery(`#project-title-${o}`).width();e(`#project-thumbnails-${o}`).css("left",`${i+86}px`)}console.log(currentProjectId,currentProjectImage),theTimer(currentProjectId,currentProjectImage)}),e(document).on("click",".project-thumb",function(t){clearTimeout(ticker);var o=e(window).width(),i=e(this).closest("div").attr("id").split("-"),r=i[2],l=i[3];resetThumbFadesAfterClick(r,l),document.getElementById(`project-${r}`).scrollIntoView({behavior:"smooth"}),e(`#project-images-${r}`).css("transform",`translateX(-${o*(parseInt(l)-1)}px)`),theTimer(parseInt(r),parseInt(l))})});var resetThumbFadesAfterClick=(e,t)=>{var o=!1;sortedProjects.map(r=>{var l=getTotalImages(r);if(r.id===parseInt(e))for(o=!0,i=1;i<l+1;i++)i<parseInt(t)?jQuery(`#project-thumb-overlay-${r.id}-${i}`).addClass("thumb-overlay-on").css("transition","0s"):jQuery(`#project-thumb-overlay-${r.id}-${i}`).removeClass("thumb-overlay-on").css("transition","0s");else if(o)for(i=1;i<l+1;i++)jQuery(`#project-thumb-overlay-${r.id}-${i}`).removeClass("thumb-overlay-on").css("transition","0s");else for(i=1;i<l+1;i++)jQuery(`#project-thumb-overlay-${r.id}-${i}`).addClass("thumb-overlay-on").css("transition","0s")})},theTimer=(e,t)=>{console.log("started timer"),currentProjectId=e,currentProjectImage=t;var o=sortedProjects.find(t=>t.id===e),i=getTotalImages(o),r=o.acf[`portfolio_video_length_${t}`];jQuery(`#project-thumb-overlay-${e}-${t}`).addClass("thumb-overlay-on").css("transition",`${r}s`),0!==jQuery(`#video-${e}-${t}`).length&&jQuery(`#video-${e}-${t}`).trigger("play"),ticker=setTimeout(()=>{if(t<i){var o=jQuery(window).width();jQuery(`#project-images-${e}`).css("transform",`translateX(-${o*parseInt(t)}px)`),theTimer(e,t+1)}else{var r=findNextOrder(e);console.log(r),document.getElementById(`project-${r.id}`).scrollIntoView({behavior:"smooth"}),theTimer(r.id,1)}},[`${r}000`])},getTotalImages=e=>{let t=0;for(let o=1;o<21;o++)!1===e.acf[`portfolio_image_landscape_${o}`]&&!1===e.acf[`portfolio_video_landscape_${o}`]||(t+=1);return t},findNextOrder=e=>{let t=sortedProjects.findIndex(({id:t})=>t===e);return t>-1&&t<sortedProjects.length-1?sortedProjects[t+1]:void 0},buildProjectsAssets=e=>{var t=createProjectAssets(e).join("");console.log("all assets: ",t),document.getElementById("projects-container")&&(jQuery("#projects-container").html(t),lazyLoad(),jQuery(window).width()>850&&e.map(e=>{var t=e.id,o=jQuery(`#project-title-${t}`).width();jQuery(`#project-thumbnails-${t}`).css("left",`${o+86}px`)}),e.map(e=>{var t=0,o=jQuery("body").prop("clientWidth");for(console.log(o),i=1;i<21;i++)(e.acf[`portfolio_image_landscape_${i}`]||e.acf[`portfolio_video_landscape_${i}`])&&(t+=o);jQuery(`#project-images-${e.id}`).css("width",`${t}px`)}))},createProjectAssets=e=>{var t=[];return e.forEach(e=>{var o=`<div class='project-container' id='project-${e.id}'>`;o+='<a href=\'/?link=true\' class="project-back"><svg viewBox="0 0 42 42"><circle class="back-circle" cx="21" cy="21" r="21" /><path d="M24 13L16 21L24 29" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>',o+=`<div id="project-title-${e.id}" class="project-title">${e.title.rendered}</div>`,o+=`<svg id="project-info-close-${e.id}" class="project-info-close project-info-close-hide" viewBox="0 0 24 24"> <path class="project-info-close-path" id="project-info-close-path-${e.id}" d="M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z" /></svg>`,o+=createInfoSection(e),o+=createThumbnails(e),o+=createImages(e),o+="</div>",t.push(o)}),t},createInfoSection=e=>{var{acf:t}=e,o=`<div class='project-info-container project-info-container-hide' id="project-info-${e.id}">`;return 0!==t.project_summary.length&&(o+=`<h1>${t.project_summary}</h1>`),0!==t.agency.length&&(o+=`<h2>${t.agency}</h2><p>Agency</p>`),0!==t.art_direction.length&&(o+=`<h2>${t.art_direction}</h2><p>Art Direction</p>`),0!==t.assistant_art_direction.length&&(o+=`<h2>${t.assistant_art_direction}</h2><p>Assistant Art Direction</p>`),0!==t.cgi.length&&(o+=`<h2>${t.cgi}</h2><p>CGI</p>`),0!==t.client.length&&(o+=`<h2>${t.client}</h2><p>Client</p>`),0!==t.code.length&&(o+=`<h2>${t.code}</h2><p>Code</p>`),0!==t.concept_research_and_strategy.length&&(o+=`<h2>${t.concept_research_and_strategy}</h2><p>Concept, Research, and Strategy</p>`),0!==t.content_direction.length&&(o+=`<h2>${t.content_direction}</h2><p>Creative Direction</p>`),0!==t.creative_direction.length&&(o+=`<h2>${t.creative_direction}</h2><p>Creative Direction</p>`),0!==t.curation.length&&(o+=`<h2>${t.curation}</h2><p>Curation</p>`),0!==t.design.length&&(o+=`<h2>${t.design}</h2><p>Design</p>`),0!==t.design_director.length&&(o+=`<h2>${t.design_director}</h2><p>Design Director</p>`),0!==t.director.length&&(o+=`<h2>${t.director}</h2><p>Director</p>`),0!==t.editor.length&&(o+=`<h2>${t.editor}</h2><p>Editor</p>`),0!==t.editorial_design.length&&(o+=`<h2>${t.editorial_design}</h2><p>Editorial Design</p>`),0!==t.exhibition_design.length&&(o+=`<h2>${t.exhibition_design}</h2><p>Exhibition Design</p>`),0!==t.fashion_editor.length&&(o+=`<h2>${t.fashion_editor}</h2><p>Fashion Editor</p>`),0!==t.graphic_design.length&&(o+=`<h2>${t.graphic_design}</h2><p>Graphic Design</p>`),0!==t.hair_stylist.length&&(o+=`<h2>${t.hair_stylist}</h2><p>Hair Stylist</p>`),0!==t.illustration.length&&(o+=`<h2>${t.illustration}</h2><p>Illustration</p>`),0!==t.jersey_design.length&&(o+=`<h2>${t.jersey_design}</h2><p>Jersey Design</p>`),0!==t.logo_design.length&&(o+=`<h2>${t.logo_design}</h2><p>Logo Design</p>`),0!==t.makeup_artist.length&&(o+=`<h2>${t.makeup_artist}</h2><p>Makeup Artist</p>`),0!==t.model.length&&(o+=`<h2>${t.model}</h2><p>Model</p>`),0!==t.motion_design.length&&(o+=`<h2>${t.motion_design}</h2><p>Motion Design</p>`),0!==t.packaging.length&&(o+=`<h2>${t.packaging}</h2><p>Packaging</p>`),0!==t.photography.length&&(o+=`<h2>${t.photography}</h2><p>Photography</p>`),0!==t.production.length&&(o+=`<h2>${t.production}</h2><p>Production</p>`),0!==t.project_engineering.length&&(o+=`<h2>${t.project_engineering}</h2><p>Project Engineering</p>`),0!==t.publisher.length&&(o+=`<h2>${t.publisher}</h2><p>Publisher</p>`),0!==t.set_design.length&&(o+=`<h2>${t.set_design}</h2><p>Set Design</p>`),0!==t.shoe_design.length&&(o+=`<h2>${t.shoe_design}</h2><p>Shoe Design</p>`),0!==t.stylist.length&&(o+=`<h2>${t.stylist}</h2><p>Stylist</p>`),0!==t.talent.length&&(o+=`<h2>${t.talent}</h2><p>Talent</p>`),0!==t.type_design.length&&(o+=`<h2>${t.type_design}</h2><p>Type Design</p>`),0!==t.typography.length&&(o+=`<h2>${t.typography}</h2><p>Typography</p>`),0!==t.visuals.length&&(o+=`<h2>${t.visuals}</h2><p>Visuals</p>`),0!==t.video.length&&(o+=`<h2>${t.video}</h2><p>Video</p>`),0!==t.video_editing.length&&(o+=`<h2>${t.video_editing}</h2><p>Video Editing</p>`),0!==t.webdesign.length&&(o+=`<h2>${t.webdesign}</h2><p>Web Design</p>`),0!==t.handle.length&&(o+=`<h2>${t.handle}</h2>`),o+="</div>"},createThumbnails=e=>{var{acf:t}=e,o=`<div id="project-thumbnails-${e.id}" class="project-thumbnails">`;for(i=1;i<21;i++)(t[`portfolio_image_landscape_${i}`]||t[`portfolio_video_landscape_${i}`])&&(t[`portfolio_image_landscape_${i}`]?o+=`<div class="project-thumb" id="project-thumb-${e.id}-${i}"><div class="thumb-overlay" id="project-thumb-overlay-${e.id}-${i}"></div><img class="project-thumb-image" id="project-thumb-image-${e.id}-${i}" src="${t[`portfolio_image_landscape_${i}`].sizes.thumbnail}" alt="thumbnail from ${e.title.rendered} project" /></div>`:t[`portfolio_thumbnail_${i}`]&&(o+=`<div class="project-thumb" id="project-thumb-${e.id}-${i}"><div class="thumb-overlay" id="project-thumb-overlay-${e.id}-${i}"></div><img class="project-thumb-image" id="project-thumb-image-${e.id}-${i}" src="${t[`portfolio_thumbnail_${i}`].sizes.thumbnail}" alt="thumbnail from ${e.title.rendered} project" /></div>`));return o+="</div>"},createImages=e=>{var{acf:t}=e;console.log(e.id);var o=`<div class="project-images" id="project-images-${e.id}">`;for(i=1;i<21;i++){var r="",l="";(t[`portfolio_image_landscape_${i}`]||t[`portfolio_video_landscape_${i}`])&&(t[`portfolio_image_landscape_${i}`]&&t[`portfolio_image_portrait_${i}`]?(jQuery(window).width()>850?(r=t[`portfolio_image_landscape_${i}`].url,l=t[`portfolio_image_landscape_${i}`].sizes.medium):(r=t[`portfolio_image_portrait_${i}`].url,l=t[`portfolio_image_portrait_${i}`].sizes.medium),o+=`<div class="project-image" id="project-image-${e.id}-${i}" style="background-image:url(${l});" data-image-full="${r}"><img src="${r}" alt="Image from ${e.title.rendered} Project" /></div>`):t[`portfolio_video_landscape_${i}`]&&t[`portfolio_video_portrait_${i}`]&&(r=jQuery(window).width()>850?t[`portfolio_video_landscape_${i}`].url:t[`portfolio_video_portrait_${i}`].url,o+=`<div class="project-image" id="project-image-${e.id}-${i}"><video id="video-${e.id}-${i}" src="${r}" autoplay loop playsinline muted></div>`))}return o+="</div>"};function polyfill(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var o,i=e.HTMLElement||e.Element,r=468,l={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:i.prototype.scroll||a,scrollIntoView:i.prototype.scrollIntoView},s=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,n=(o=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?g.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):l.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?l.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):g.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;g.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var o=function(e){for(;e!==t.body&&!1===h(e);)e=e.parentNode||e.host;return e}(this),i=o.getBoundingClientRect(),r=this.getBoundingClientRect();o!==t.body?(g.call(this,o,o.scrollLeft+r.left-i.left,o.scrollTop+r.top-i.top),"fixed"!==e.getComputedStyle(o).position&&e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else l.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(e,t){return"Y"===t?e.clientHeight+n<e.scrollHeight:"X"===t?e.clientWidth+n<e.scrollWidth:void 0}function p(t,o){var i=e.getComputedStyle(t,null)["overflow"+o];return"auto"===i||"scroll"===i}function h(e){var t=d(e,"Y")&&p(e,"Y"),o=d(e,"X")&&p(e,"X");return t||o}function u(t){var o,i,l,n,a=(s()-t.startTime)/r;n=a=a>1?1:a,o=.5*(1-Math.cos(Math.PI*n)),i=t.startX+(t.x-t.startX)*o,l=t.startY+(t.y-t.startY)*o,t.method.call(t.scrollable,i,l),i===t.x&&l===t.y||e.requestAnimationFrame(u.bind(e,t))}function g(o,i,r){var n,c,d,p,h=s();o===t.body?(n=e,c=e.scrollX||e.pageXOffset,d=e.scrollY||e.pageYOffset,p=l.scroll):(n=o,c=o.scrollLeft,d=o.scrollTop,p=a),u({scrollable:n,method:p,startTime:h,startX:c,startY:d,x:i,y:r})}}function clockUpdate(){var e=new Date;localTime=e.getTime(),localOffset=6e4*e.getTimezoneOffset(),utc=localTime+localOffset;var t=new Date(utc+36e5);function o(e){return e<10?"0"+e:e}var i,r=o((i=t.getHours())>12?i-12:0==i?12:i),l=o(t.getMinutes()),s=o(t.getSeconds());jQuery("#clock").text(r+":"+l+":"+s)}jQuery(document).ready(function(e){console.log("script loaded yeah")}),"object"==typeof exports&&"undefined"!=typeof module?module.exports={polyfill:polyfill}:polyfill(),jQuery(document).ready(function(e){clockUpdate(),setInterval(clockUpdate,1e3)});